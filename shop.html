<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Accessories by Waydia - Shop All</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background-color: #fffaf7;
      color: #7c5e3c;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: #fff;
      border-bottom: 1px solid #e7dac7;
    }
    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      font-weight: 700;
    }
    .filters {
      display: flex;
      gap: 1rem;
      padding: 1rem;
    }
    .filters select {
      padding: 0.5rem;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      padding: 1rem;
    }
    .product {
      background: #f8f1ea;
      padding: 1rem;
      border-radius: 12px;
      text-align: center;
    }
    .product img {
      max-width: 100%;
      border-radius: 8px;
    }
    .cart-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #cc6d8c;
      color: #fff;
      border: none;
      padding: 1rem;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 999;
    }
    .cart-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: 350px;
      height: 100vh;
      background: #fff;
      box-shadow: -2px 0 5px rgba(0,0,0,0.2);
      padding: 1rem;
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
      z-index: 998;
      overflow-y: auto;
    }
    .cart-panel.active {
      transform: translateX(0);
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 1rem 0;
    }
    .cart-item button {
      background: none;
      border: none;
      color: #cc6d8c;
      cursor: pointer;
    }
    .checkout {
      margin-top: 2rem;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-top: 1rem;
    }
    input, select {
      width: 100%;
      margin: 0.5rem 0;
      padding: 0.5rem;
    }
    @media (max-width: 600px) {
      .cart-panel {
        width: 100%;
      }
    }
  </style>
</head>
<body>
<div id="app">
  <header>
    <div class="logo">Accessories by Waydia</div>
  </header>

  <div class="filters">
    <select v-model="filters.type">
      <option value="">All Types</option>
      <option value="keychain">Keychains</option>
      <option value="clip">Claw Clips</option>
      <option value="other">Other</option>
    </select>
    <select v-model="filters.price">
      <option value="">All Prices</option>
      <option value="low">Below J$800</option>
      <option value="high">J$800 and up</option>
    </select>
  </div>

  <div class="products">
    <div v-for="product in filteredProducts" class="product">
      <img :src="product.image" :alt="product.name" />
      <h3>{{ product.name }}</h3>
      <p>{{ product.price }}</p>
      <div v-if="product.colors">
        <label>Color:
          <select v-model="product.selectedColor">
            <option v-for="color in product.colors">{{ color }}</option>
          </select>
        </label>
      </div>
      <p v-if="product.stock <= 0" style="color:red">Out of Stock</p>
      <button @click="addToCart(product)" :disabled="product.stock <= 0">Add to Cart</button>
    </div>
  </div>

  <button class="cart-btn" @click="cartVisible = !cartVisible">ðŸ›’</button>

  <div class="cart-panel" :class="{ active: cartVisible }">
    <h3>Your Cart</h3>
    <div v-for="(item, index) in cart" class="cart-item">
      <div>
        {{ item.name }} ({{ item.color || 'Default' }})
        <br />
        J${{ item.price }} x
        <button @click="decreaseQty(index)">-</button>
        {{ item.quantity }}
        <button @click="increaseQty(index)">+</button>
      </div>
      <button @click="removeItem(index)">Remove</button>
    </div>
    <p><strong>Total: J${{ cartTotal }}</strong></p>

    <div class="checkout">
      <h4>Checkout</h4>
      <input v-model="checkout.name" placeholder="Name" required>
      <input v-model="checkout.email" placeholder="Email" required>
      <input v-model="checkout.phone" placeholder="Phone Number" required>
      <input v-model="checkout.address" placeholder="Shipping Address" required>
      <textarea v-model="checkout.details" readonly></textarea>
      <button @click="submitOrder">Submit Order</button>
    </div>
  </div>
</div>

<script>
  new Vue({
    el: '#app',
    data: {
      cartVisible: false,
      filters: {
        type: '',
        price: ''
      },
      checkout: {
        name: '',
        email: '',
        phone: '',
        address: '',
        details: ''
      },
      cart: [],
      products: [
        { name: 'Mini Can Soda - Pepsi', type: 'other', price: 500, image: 'https://raw.githubusercontent.com/waydiamcleod/accessoriesbywaydia.ja/refs/heads/main/H27cf27d492e444ddb51282ca93935ce3z.webp', stock: 10 },
        { name: 'Tennis + Bible', type: 'keychain', price: 1100, image: 'https://raw.githubusercontent.com/waydiamcleod/accessoriesbywaydia.ja/refs/heads/main/H4082d5e9abc343d796c724005550d886h.webp', stock: 5 },
        { name: 'Miu Cat', type: 'keychain', price: 1000, image: 'https://raw.githubusercontent.com/waydiamcleod/accessoriesbywaydia.ja/refs/heads/main/H4b7310a3a1dc460cb166048ca80bf69e0.webp', stock: 3 },
        { name: 'Miu Heart', type: 'keychain', price: 1000, image: 'https://raw.githubusercontent.com/waydiamcleod/accessoriesbywaydia.ja/refs/heads/main/H6eba452254fe438f8e74a90b6a434b87n.webp', stock: 0 },
        { name: 'Teddy Pendant', type: 'keychain', price: 800, image: 'https://raw.githubusercontent.com/waydiamcleod/accessoriesbywaydia.ja/refs/heads/main/H78c602610c1c4a27b48322f6a0ac9b8be.webp', stock: 2 },
        { name: 'Gold Tennis', type: 'keychain', price: 1000, image: 'https://raw.githubusercontent.com/waydiamcleod/accessoriesbywaydia.ja/refs/heads/main/H7deef4f9cf394e708254b291e3610bf7w.webp', stock: 1 },
        { name: 'Pearl Bow Heart', type: 'clip', price: 700, colors: ['White', 'Pink'], selectedColor: 'White', image: 'https://github.com/waydiamcleod/accessoriesbywaydia.ja/blob/main/%F0%9F%96%A4%F0%9F%94%97.jpg?raw=true', stock: 4 }
      ]
    },
    computed: {
      filteredProducts() {
        return this.products.filter(p => {
          let matchType = this.filters.type ? p.type === this.filters.type : true;
          let matchPrice = this.filters.price === 'low' ? p.price < 800 : this.filters.price === 'high' ? p.price >= 800 : true;
          return matchType && matchPrice;
        });
      },
      cartTotal() {
        return this.cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      }
    },
    watch: {
      cart: {
        deep: true,
        handler() {
          this.checkout.details = this.cart.map(i => `${i.name} (${i.color || 'Default'}) x ${i.quantity} - J$${i.price * i.quantity}`).join('\n') + `\nTotal: J$${this.cartTotal}`;
        }
      }
    },
    methods: {
      addToCart(product) {
        const color = product.selectedColor || null;
        const existing = this.cart.find(i => i.name === product.name && i.color === color);
        if (existing) existing.quantity++;
        else this.cart.push({ ...product, quantity: 1, color });
        product.stock--;
      },
      increaseQty(index) {
        if (this.cart[index].stock > 0) {
          this.cart[index].quantity++;
          this.cart[index].stock--;
        }
      },
      decreaseQty(index) {
        if (this.cart[index].quantity > 1) {
          this.cart[index].quantity--;
          this.cart[index].stock++;
        }
      },
      removeItem(index) {
        this.cart.splice(index, 1);
      },
      submitOrder() {
        alert('Order placed!');
        this.cart = [];
        this.checkout = { name: '', email: '', phone: '', address: '', details: '' };
      }
    }
  });
</script>
</body>
</html>
